<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenAPI in Angular: From Manual Services to Generated Goodness (and a Lot of Refactoring) | Oumi's Blog</title>
    <meta name="description" content="Thoughtful reflections on software development, written by a developer for developers.
">


    <link rel="canonical" href="http://localhost:4000/2025/04/08/openapi-angular/" />

    <meta property="og:title" content="OpenAPI in Angular: From Manual Services to Generated Goodness (and a Lot of Refactoring)" />
    <meta property="og:description" content="Thoughtful reflections on software development, written by a developer for developers.
" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="http://localhost:4000/2025/04/08/openapi-angular/" />
    
    <meta property="og:image" content="http://localhost:4000/assets/img/angular-vs-manual.jpg" />
    

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="OpenAPI in Angular: From Manual Services to Generated Goodness (and a Lot of Refactoring)" />
    <meta name="twitter:description" content="Thoughtful reflections on software development, written by a developer for developers.
" />
    
    <meta name="twitter:image" content="http://localhost:4000/assets/img/angular-vs-manual.jpg" />
    

    <script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebSite","name":"Oumi's Blog","url":"http://localhost:4000","description":"Thoughtful reflections on software development, written by a developer for developers.","publisher":{"@type":"Person","name":"Oumaima Zerouali","url":"http://localhost:4000"}}
</script>
    <script type="application/ld+json">
{"@context":"https://schema.org","@type":"Person","name":"Oumaima Zerouali","url":"http://localhost:4000","image":"http://localhost:4000/assets/favicon/logo.svg","jobTitle":"Software Developer","sameAs":["https://github.com/OumaimaZerouali","https://www.linkedin.com/in/oumaima-zerouali-16b189223","https://www.instagram.com/_oumietje_","https://jcast.dev"],"affiliation":{"@type":"Organization","@id":"https://jcast.dev/#org","name":"JCast","url":"https://jcast.dev"}}
</script>

    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="icon" type="image/x-icon" href="/assets/favicon/favicon.ico">
</head>
<body>

<div id="live-announcer" role="status" aria-live="polite" aria-atomic="true" class="sr-only"></div>

<a href="#main-content" class="skip-link">Skip to main content</a><header class="site-header">
  <div class="wrapper">
    
    

    
      <a class="site-title" href="/">
        <img src="/assets/favicon/logo.svg" alt="Oumi's Blog" class="site-logo">
        <span class="site-title-text">Oumi's Blog</span>
      </a>
    

    <button class="hamburger mobile-only" id="hamburger-toggle" aria-label="Toggle menu" aria-expanded="false">
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </button>

    <nav class="site-nav" role="navigation" aria-label="Main navigation">
      <a href="/posts">Posts</a>
      <a href="/about">About</a>

      <div class="lang-switcher desktop-only" role="group" aria-label="Language switcher">
        <button class="lang-link" data-lang="en" id="lang-en" aria-label="Switch to English" aria-pressed="true">EN</button>
        <span class="lang-separator" aria-hidden="true">/</span>
        <button class="lang-link" data-lang="nl" id="lang-nl" aria-label="Switch to Dutch" aria-pressed="false">NL</button>
      </div>

      <button id="theme-toggle" class="desktop-only" aria-label="Toggle theme">
        <svg id="icon-sun" class="hidden"
             xmlns="http://www.w3.org/2000/svg" width="20" height="20"
             viewBox="0 0 24 24" fill="none" stroke="currentColor"
             stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="5"></circle>
          <line x1="12" y1="1" x2="12" y2="3"></line>
          <line x1="12" y1="21" x2="12" y2="23"></line>
          <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
          <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
          <line x1="1" y1="12" x2="3" y2="12"></line>
          <line x1="21" y1="12" x2="23" y2="12"></line>
          <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
          <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
        </svg>

        <svg id="icon-moon" class="hidden"
             xmlns="http://www.w3.org/2000/svg" width="20" height="20"
             viewBox="0 0 24 24" fill="currentColor">
          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
        </svg>
      </button>

      <div class="mobile-only mobile-controls">
        <button class="mobile-action" id="mobile-switch-theme">Switch theme</button>
        
        <a class="mobile-action" href="/nl/">Switch to Dutch</a>
        
      </div>
    </nav>
  </div>
</header>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const hamburger = document.getElementById('hamburger-toggle');
  const nav = document.querySelector('.site-nav');
  const mobileSwitchTheme = document.getElementById('mobile-switch-theme');

  function closeMenu() {
    hamburger.setAttribute('aria-expanded', 'false');
    hamburger.classList.remove('active');
    nav.classList.remove('active');
  }

  function openMenu() {
    hamburger.setAttribute('aria-expanded', 'true');
    hamburger.classList.add('active');
    nav.classList.add('active');
  }

  if (hamburger) {
    hamburger.addEventListener('click', function(event) {
      const isExpanded = hamburger.getAttribute('aria-expanded') === 'true';
      if (isExpanded) closeMenu(); else openMenu();
      event.stopPropagation();
    });
  }

  document.addEventListener('click', function(event) {
    if (!nav.contains(event.target) && !hamburger.contains(event.target)) {
      closeMenu();
    }
  });

  document.addEventListener('keydown', function(event) {
    if (event.key === 'Escape' || event.key === 'Esc') {
      if (nav.classList.contains('active')) {
        closeMenu();
        hamburger.focus();
      }
    }
  });

  if (mobileSwitchTheme) {
    mobileSwitchTheme.addEventListener('click', function() {
      const html = document.documentElement;
      const current = html.getAttribute('data-theme');
      const newTheme = current === 'dark' ? 'light' : 'dark';
      html.setAttribute('data-theme', newTheme);

      // Announce theme change to screen readers
      const liveAnnouncer = document.getElementById('live-announcer');
      if (liveAnnouncer) {
        liveAnnouncer.textContent = `Theme switched to ${newTheme} mode`;
      }
    });
  }

  const navLinks = nav.querySelectorAll('a');
  navLinks.forEach(link => link.addEventListener('click', () => setTimeout(closeMenu, 50)));
});
</script>
<main id="main-content">
    <div class="wrapper">
        
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","headline":"OpenAPI in Angular: From Manual Services to Generated Goodness (and a Lot of Refactoring)","description":"  “Firmly grasp it in your hand!” - Patrick Star","author":{"@type":"Person","name":"Oumaima Zerouali","url":"http://localhost:4000"},"datePublished":"2025-04-08T08:00:00+02:00","dateModified":"2025-04-08T08:00:00+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2025/04/08/openapi-angular/"},"publisher":{"@type":"Person","name":"Oumaima Zerouali"},"image":{"@type":"ImageObject","url":"http://localhost:4000/assets/img/angular-vs-manual.jpg"}}
</script>


<article class="post">
    <header class="post-header">
        <h1 class="post-title">OpenAPI in Angular: From Manual Services to Generated Goodness (and a Lot of Refactoring)</h1>
        <div class="post-meta">
            <time datetime="2025-04-08T08:00:00+02:00">April 08, 2025</time>
        </div>
    </header>

    
    <div class="post-image">
        <img
            src="/assets/img/angular-vs-manual.jpg"
            alt="OpenAPI in Angular: From Manual Services to Generated Goodness (and a Lot of Refactoring)"
            loading="lazy"
            decoding="async"
        />
    </div>
    

    <div class="post-content">
        <blockquote>
  <p>“Firmly grasp it in your hand!” - Patrick Star</p>
</blockquote>

<h2 id="the-motivation-from-repetitive-code-to-a-better-way">The Motivation: From Repetitive Code to a Better Way</h2>

<p>We already had OpenAPI set up in the backend. 
So naturally, I asked myself — why am I still writing Angular services by hand?</p>

<p>Creating HTTP services manually was becoming tedious and error-prone. 
Not to mention, every change in the backend required me to double-check if the frontend stayed in sync. 
I wanted something cleaner. 
Smarter. 
More <em>streamlined</em>. 
That’s when I decided to bring OpenAPI to the frontend too.</p>

<h2 id="the-setup-generating-angular-code-with-openapi">The Setup: Generating Angular Code with OpenAPI</h2>

<p>Enter <code class="language-plaintext highlighter-rouge">openapi-generator-cli</code>.</p>

<p>Before anything else, you’ll need to have your OpenAPI spec (in my case, <code class="language-plaintext highlighter-rouge">my-openapi.yaml</code>) available in your frontend project — either committed directly or pulled in through your pipeline. 
This file is the blueprint that tells the generator what to build.</p>

<p>Once that’s in place, I ran:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npx openapi-generator-cli generate <span class="nt">-i</span> my-openapi.yaml <span class="nt">-g</span> typescript-angular <span class="nt">-o</span> libs/api
</code></pre></div></div>

<p>This generated a fully-typed Angular client based on our backend’s OpenAPI definition. 
Clean. 
Structured. 
No more manually writing request/response interfaces or services.</p>

<p>To make it easily reusable, I added this to my <code class="language-plaintext highlighter-rouge">package.json</code> scripts:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nl">"generate-api"</span><span class="p">:</span><span class="w"> </span><span class="s2">"npx openapi-generator-cli generate -i my-openapi.yaml -g typescript-angular -o libs/api"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>So anytime the backend changes, I can just regenerate the frontend with one command. 
No fuss.</p>

<h2 id="the-configuration-making-it-work-with-angular">The Configuration: Making It Work with Angular</h2>

<p>Next, I had to configure Angular to use the generated code properly.</p>

<p>You’ll need to provide a custom <code class="language-plaintext highlighter-rouge">Configuration</code> so the generated services know where your API lives:</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="nl">provide</span><span class="p">:</span> <span class="nx">Configuration</span><span class="p">,</span>
  <span class="nx">useFactory</span><span class="p">:</span> <span class="p">():</span> <span class="nx">Configuration</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="na">params</span><span class="p">:</span> <span class="nx">ConfigurationParameters</span> <span class="o">=</span> <span class="p">{</span>
      <span class="na">basePath</span><span class="p">:</span> <span class="nx">environment</span><span class="p">.</span><span class="nx">baseUrl</span>
    <span class="p">};</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nc">Configuration</span><span class="p">(</span><span class="nx">params</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Pro tip: Don’t generate inside <code class="language-plaintext highlighter-rouge">src/</code>. 
I placed everything in a <code class="language-plaintext highlighter-rouge">libs/api</code> folder to keep things modular and outside the core app.</p>

<h2 id="the-great-refactor-painful-but-worth-it">The Great Refactor: Painful but Worth It</h2>

<p>This is where things got <em>real</em>.</p>

<p>I started replacing all our old manually written services with the auto-generated ones. 
It was painful at first — services had different naming, method signatures weren’t exactly the same, and mocking in tests needed updates too.</p>

<p>Example: Before, I used a custom service to fetch attachments. 
Now I just call:</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">this</span><span class="p">.</span><span class="nx">attachmentsService</span><span class="p">.</span><span class="nf">getAllAttachments</span><span class="p">()</span>
</code></pre></div></div>

<p>Much cleaner. 
Less boilerplate. 
More consistency.</p>

<h3 id="testing-adjustments">Testing Adjustments</h3>

<p>Tests needed some love too. 
I replaced a bunch of old <code class="language-plaintext highlighter-rouge">MockProvider</code> with simpler mocks using the generated interfaces.</p>

<p>Example:</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="nl">provide</span><span class="p">:</span> <span class="nx">AttachmentsService</span><span class="p">,</span>
  <span class="nx">useValue</span><span class="p">:</span> <span class="p">{</span> <span class="nl">getAllAttachments</span><span class="p">:</span> <span class="nx">jest</span><span class="p">.</span><span class="nf">fn</span><span class="p">()</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Simple. 
Maintainable. 
And way easier to understand when revisiting tests later.</p>

<h2 id="syncing-openapi-across-teams">Syncing OpenAPI Across Teams</h2>

<p>One thing I had to think about was <strong>how to keep the OpenAPI spec in sync</strong> between backend and frontend. 
If you’re working in a monorepo — lucky you. 
But if your backend and frontend are in separate repos (like ours), there are a few ways to handle it:</p>

<ul>
  <li>
    <p><strong>Option 1: Commit the OpenAPI YAML directly into the frontend repo.</strong><br />
Simple and works well if the spec doesn’t change too often.</p>
  </li>
  <li>
    <p><strong>Option 2: Automate fetching the spec in your CI/CD pipeline.</strong><br />
For example, have a script that pulls the latest <code class="language-plaintext highlighter-rouge">openapi.yaml</code> from the backend before generating the client.</p>
  </li>
  <li>
    <p><strong>Option 3: Use a shared package or Git submodule.</strong><br />
Slightly more complex but very reusable across multiple frontends.</p>
  </li>
</ul>

<p>Whatever you pick, just make sure you’re not manually copying files around. 
That defeats the purpose of automation.</p>

<h2 id="gotchas--gains">Gotchas &amp; Gains</h2>
<p>Let’s be real — bringing OpenAPI to Angular isn’t <em>just</em> plug-and-play. 
There were a few bumps on the road:</p>

<ul>
  <li>
    <p><strong>Casing and naming conventions</strong><br />
The generated models didn’t always match our style. Thankfully, you can tweak this with options like <code class="language-plaintext highlighter-rouge">--additional-properties=modelPropertyNaming=camelCase</code>.</p>
  </li>
  <li>
    <p><strong>Enum weirdness</strong><br />
Enums behaved a bit unexpectedly — especially when the backend used patterns that didn’t translate neatly to TypeScript.</p>
  </li>
  <li>
    <p><strong>Circular references</strong><br />
These can mess with the generator in complex specs. Keeping the OpenAPI doc clean and well-structured helped.</p>
  </li>
  <li>
    <p><strong>Massive PRs</strong><br />
The initial PR introducing the generated client? Huge. But 90% of it was boilerplate. Reviewers just needed coffee and patience.</p>
  </li>
</ul>

<p>Despite the hiccups, it was absolutely worth it. Here’s why:</p>

<ul>
  <li>✅ No more duplicating DTOs between frontend and backend</li>
  <li>✅ Backend changes? Just regenerate — no guesswork</li>
  <li>✅ Strongly typed services made refactors way safer</li>
  <li>✅ Test mocks became leaner and easier to write</li>
  <li>✅ This setup now lives in <em>every</em> project I touch</li>
</ul>

<p>Yes, the refactor took time. 
But it simplified the future. 
I’d do it all over again — and sooner.</p>

<h2 id="final-thoughts">Final Thoughts</h2>
<p>Bringing OpenAPI to Angular wasn’t just a technical upgrade — it was a mindset shift.</p>

<p>We talk a lot about automation, DevOps, and building smarter systems.
But this is that same philosophy applied at the code level. 
Why keep writing the same HTTP service over and over when your tools can generate it for you — strongly typed, documented, and ready to go?</p>

<p>By introducing OpenAPI to the frontend, I made Angular feel like a first-class citizen in our API ecosystem. 
I stopped duplicating DTOs, stopped guessing request shapes, and started focusing on the things that actually need a human brain: logic, UX, and problem-solving.</p>

<p>Yes, the refactor was painful. 
Yes, it took time to get the mocks right and the tests stable again. 
But now? 
Future me is thankful.</p>

<p>So if you’re staring at yet another service you have to hand-code — maybe that’s the sign. 
Automate what can be automated. 
Let the machines do the boilerplate. 
And use your time for the parts that matter.</p>

    </div>
</article>


    </div>
</main><footer class="site-footer" role="contentinfo">
    <div class="wrapper">
        <div class="footer-content">
            <p>&copy; 2026 Oumaima Zerouali · <a href="https://jcast.dev" target="_blank" rel="noopener noreferrer" class="jcast-link">JCast<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" focusable="false"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></p>
            <div class="footer-social-links">
                <a href="https://www.linkedin.com/in/oumaima-zerouali-16b189223" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn profile">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" focusable="false">
                        <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
                        <rect x="2" y="9" width="4" height="12"></rect>
                        <circle cx="4" cy="4" r="2"></circle>
                    </svg>
                </a>
                <a href="https://github.com/OumaimaZerouali" target="_blank" rel="noopener noreferrer" aria-label="GitHub profile">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" focusable="false">
                        <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
                    </svg>
                </a>
                <a href="https://www.instagram.com/_oumietje_/" target="_blank" rel="noopener noreferrer" aria-label="Instagram profile">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" focusable="false">
                        <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                        <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                        <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
                    </svg>
                </a>
            </div>
        </div>
    </div>
</footer>
<script src="/assets/js/lang-switcher.js"></script>
<script src="/assets/js/theme-toggle.js"></script>

</body>
</html>
